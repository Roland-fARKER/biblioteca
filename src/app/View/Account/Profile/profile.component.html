<div class="cont">
    <p-toast></p-toast>
    <p-dialog [draggable]="false" header="Seleciona un avatar." [modal]="true" [(visible)]="hidenmodal" [style]="{ width: '25rem' }">
        <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
            <div *ngFor="let avatar of avataresList" style="width: 120px;">
              <img class="avatarsel" [src]="avatar.url" (click)="changeAvatar(avatar.id)"  style="width: 100%;" />
            </div>
          </div>
    </p-dialog>
    <div class="cont-info">
        <div class="data-header">
            <div class="bt" (click)="alInicio()">
                <i class="fas fa-arrow-left"></i>
            </div>
            <img class="avatar"
                [src]="obtenerAvatar( currentUser ? currentUser.avatarId : 0 )" />
            <div class="bt" (click)="hidenmodal = !hidenmodal">
                <i class="fas fa-pen"></i>
            </div>
        </div>
        <div class="data-user">
            <h3>{{ currentUser ? currentUser.name : 'username' }}</h3>
            <small>{{ currentUser ? currentUser.email : 'username' }} </small>
        </div>
        <div class="items-user">
            <div class="item">
                <h1>24</h1>
                <p>Libros leidos.</p>
            </div>
            <p-divider layout="vertical"></p-divider>

            <div class="item">
                <h1>7</h1>
                <p>Insignias</p>
            </div>
            <p-divider layout="vertical"></p-divider>

            <div class="item">
                <h1>24</h1>
                <p>Libros leidos.</p>
            </div>
        </div>

        <p-tabView styleClass="tabview-custom">
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <i style="font-size: 1rem;" class="fas fa-trophy"></i>
                    &nbsp;
                    <span>Colecci√≥n</span>
                </ng-template>
                <div class="items-user colunm">
                    <div class="items-card">
                        <h4>Insignias</h4>
                        <div class="items-user wrap">
                            <div class="item">
                                <img class="insignia"
                                    src="https://www.it-institute.org/wp-content/uploads/2021/05/medal.png" />
                                <p>Insignia</p>
                            </div>
                            <div class="item">
                                <img class="insignia"
                                    src="https://www.it-institute.org/wp-content/uploads/2021/05/medal.png" />
                                <p>Insignia</p>
                            </div>
                            <div class="item">
                                <img class="insignia"
                                    src="https://www.it-institute.org/wp-content/uploads/2021/05/medal.png" />
                                <p>Insignia</p>
                            </div>
                            <div class="item">
                                <img class="insignia"
                                    src="https://www.it-institute.org/wp-content/uploads/2021/05/medal.png" />
                                <p>Insignia</p>
                            </div>
                        </div>
                    </div>
                    <div class="items-card">
                        <h4>Libros leidos</h4>
                        <div class="items-user wrap">
                            <div class="chip"><small>libro 1</small></div>
                            <div class="chip"><small>libro 2</small></div>
                            <div class="chip"><small>libro 3</small></div>
                            <div class="chip"><small>libro 4</small></div>
                            <div class="chip"><small>libro 5</small></div>
                            <div class="chip"><small>libro 6</small></div>
                            <div class="chip"><small>libro 5</small></div>
                            <div class="chip"><small>libro 6</small></div>
                        </div>
                    </div>
                    <div class="items-card">
                        <h4>Generos</h4>
                        <div class="items-user wrap">
                            <div class="chip"><small>Novelas</small></div>
                            <div class="chip"><small>Poesia</small></div>
                            <div class="chip"><small>Drama</small></div>
                            <div class="chip"><small>ficcion</small></div>
                        </div>
                    </div>
                </div>

            </p-tabPanel>
            <p-tabPanel>
                <ng-template pTemplate="header">
                    <i style="font-size: 1rem;" class="fas fa-scroll"></i>
                    &nbsp;
                    <span>Asuntos</span>
                </ng-template>
                <p><strong>Mis prestamos</strong></p>
                <div class="card">
                    <p-table [value]="prestamos" [tableStyle]="{ 'min-width': '50rem' }" styleClass="p-datatable-sm">
                        <ng-template pTemplate="header">
                            <tr>
                                <th style="width:30%" >Nombre libro</th>
                                <th style="width:20%" >estado</th>
                                <th style="width:20%" >Fecha salida</th>
                                <th style="width:20%" >Fecha entrega</th>
                            </tr>
                        </ng-template>
                        <ng-template pTemplate="body" let-prestamo>
                            <tr>
                                <td>{{ prestamo.nombreLibro }}</td>
                                <td><p-tag [severity]="getSeverity(prestamo.estado)" [value]="prestamo.estado"></p-tag></td>
                                <td>{{ prestamo.fechaSalida }}</td>
                                <td>{{ prestamo.fechaEntrega }}</td>
                            </tr>
                        </ng-template>
                    </p-table>
                </div>
                
            </p-tabPanel>
        </p-tabView>



    </div>
</div>